"use strict";(self.webpackChunkweb_client_video_gateway=self.webpackChunkweb_client_video_gateway||[]).push([[966],{12966:function(e,n,o){o.r(n),o.d(n,{default:function(){return i}}),o(21703);var t=o(41173),i=(n={components:{},data:function(){var e=this;return{isUpPws:!1,loginLoading:!1,loginForm:{rememberMe:!1,automatic:!1,account:"admin",password:"123456"},rules:{account:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},pwsForm:{passwd:null,checkPass:null},userId:null,pwsRules:{passwd:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(n,o,t){""===o?t(new Error("请输入密码")):(""!==e.pwsForm.checkPass&&e.$refs.pwsForm.validateField("checkPass"),t())},trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(n,o,t){""===o?t(new Error("请再次输入密码")):o!==e.pwsForm.passwd?t(new Error("两次输入密码不一致!")):t()},trigger:"blur"}]},isBeforeUpdate:!0,num:0,isClick:!0}},mounted:function(){(0,t.bh)("account")&&(this.loginForm.account=(0,t.bh)("account"),this.loginForm.password=(0,t.bh)("password"),this.loginForm.rememberMe=!0)},methods:{loginBtn:function(){var e=this;this.$refs.loginForm.validate((function(n){if(!n)return e.$message({type:"warning",message:"格式错误"}),!1;e.loginLoading=!0,e.loginForm.rememberMe?(n=e.loginForm.password,(0,t.PQ)("account",e.loginForm.account),(0,t.PQ)("password",n)):((0,t.kr)("account"),(0,t.kr)("password")),e.$store.dispatch("login",e.loginForm).then((function(n){n.status?e.$message({type:"success",message:"登录成功!",duration:1e3,onClose:function(){e.$router.push("/realTimeMonitoring")}}):e.$message.error(n.message),e.loginLoading=!1})).catch((function(){e.loginLoading=!1}))}))},upPwdConfirm:function(){this.$refs.pwsForm.validate((function(e){if(!e)return!1}))}}},(0,o(43736).Z)(n,(function(){var e=this,n=e.$createElement;n=e._self._c||n;return n("div",{staticClass:"login-page"},[e._m(0),n("div",{staticClass:"login-contents"},[e._m(1),n("div",{staticClass:"login-info"},[n("div",{staticClass:"login-info_header"},[e._v("账号登录")]),n("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{staticClass:"login-input",attrs:{placeholder:"请输入账号","prefix-icon":"el-icon-s-custom"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.loginBtn("loginForm")}},model:{value:e.loginForm.account,callback:function(n){e.$set(e.loginForm,"account",n)},expression:"loginForm.account"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.loginBtn("loginForm")}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}})],1),n("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(n){e.$set(e.loginForm,"rememberMe",n)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),n("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px",float:"right"},model:{value:e.loginForm.automatic,callback:function(n){e.$set(e.loginForm,"automatic",n)},expression:"loginForm.automatic"}},[e._v("自动登录")]),n("el-button",{staticClass:"login-btn primaryBtn",attrs:{type:"primary",loading:e.loginLoading},on:{click:function(n){return e.loginBtn("loginForm")}}},[e.loginLoading?n("span",[e._v("登 录 中...")]):n("span",[e._v("登 录")])])],1)],1)])])}),[function(){var e=this,n=e.$createElement;n=e._self._c||n;return n("div",{staticClass:"head-title"},[n("i",{staticClass:"iconfont svg-icon"},[e._v("")]),n("span",[e._v(" 智慧安防小区汇聚服务")])])},function(){var e=this,n=e.$createElement;n=e._self._c||n;return n("div",{staticClass:"login-content-name"},[n("div",{staticClass:"login-name"},[e._v("智慧安防汇聚服务管理系统")]),n("div",{staticClass:"login-ability"},[e._v("在线 / 协作 / 高效")])])}],!1,null,"318e41c1",null).exports)}}]);